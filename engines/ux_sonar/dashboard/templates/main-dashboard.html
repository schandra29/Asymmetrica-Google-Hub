<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sonar Suite Dashboard - System Health Monitor</title>
  <style>
    {{CSS}}
  </style>
</head>
<body>
  <div class="dashboard-container">
    <!-- Header -->
    <header class="dashboard-header">
      <div class="header-content">
        <h1>ðŸŽ¯ Sonar Suite Dashboard</h1>
        <p class="subtitle">Unified System Health Monitor</p>
        <div class="timestamp">Generated: {{TIMESTAMP}}</div>
      </div>
    </header>

    <!-- Praise Mode Section (Top) -->
    <section class="praise-section">
      {{PRAISE_MODE}}
    </section>

    <!-- System Health Metric (North Star) -->
    <section class="shm-section">
      <div class="shm-container">
        <h2>System Health Metric (SHM)</h2>
        <div class="shm-gauge-wrapper">
          <div class="shm-gauge">
            <svg viewBox="0 0 200 120" class="gauge-svg">
              <!-- Background arc -->
              <path
                d="M 20 100 A 80 80 0 0 1 180 100"
                fill="none"
                stroke="#E5E7EB"
                stroke-width="12"
                stroke-linecap="round"
              />
              <!-- Value arc -->
              <path
                d="M 20 100 A 80 80 0 0 1 180 100"
                fill="none"
                stroke="{{SHM_COLOR}}"
                stroke-width="12"
                stroke-linecap="round"
                stroke-dasharray="251.2"
                stroke-dashoffset="0"
                style="stroke-dashoffset: calc(251.2 - (251.2 * {{SHM_VALUE}}));"
                class="gauge-progress"
              />
              <!-- Center value -->
              <text x="100" y="85" text-anchor="middle" class="gauge-value">{{SHM_VALUE}}</text>
              <text x="100" y="105" text-anchor="middle" class="gauge-label">/ 1.0</text>
            </svg>
          </div>
          <div class="shm-details">
            <div class="shm-percentage" style="color: {{SHM_COLOR}};">{{SHM_PERCENTAGE}}%</div>
            <div class="shm-regime">
              <span class="regime-badge large" style="background-color: {{REGIME_COLOR}};">{{REGIME}}</span>
            </div>
            <div class="shm-delta" style="color: {{DELTA_COLOR}};">
              {{DELTA_SYMBOL}} {{DELTA_VALUE}} from baseline
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Regime Distribution -->
    <section class="regime-section">
      {{REGIME_DISTRIBUTION}}
    </section>

    <!-- Sonar Cards Grid -->
    <section class="sonars-section">
      <h2>Individual Sonar Metrics</h2>
      <div class="sonar-grid">
        {{SONAR_CARDS}}
      </div>
    </section>

    <!-- Alerts Section (Bottom) -->
    <section class="alerts-container">
      {{ALERTS}}
    </section>

    <!-- Footer -->
    <footer class="dashboard-footer">
      <p>Powered by Asymmetrica Protocol - Better Math for Everyone!</p>
      <p class="footer-note">
        Dashboard generated by Agent Foxtrot |
        Data sources: UX, Design, Code, Semantic, Journey, State Sonars
      </p>
    </footer>
  </div>

  <script>
    // Add interactivity for drill-down (future enhancement)
    document.querySelectorAll('.sonar-card').forEach(card => {
      card.addEventListener('click', function() {
        const sonarName = this.querySelector('h3').textContent;
        console.log(`Drill-down to ${sonarName} (not yet implemented)`);
        // Future: Navigate to detailed sonar report
      });
    });

    // Add hover effects for metrics
    document.querySelectorAll('.key-metric').forEach(metric => {
      metric.addEventListener('mouseenter', function() {
        this.style.transform = 'scale(1.05)';
      });
      metric.addEventListener('mouseleave', function() {
        this.style.transform = 'scale(1)';
      });
    });

    // Auto-refresh indicator (if needed)
    const timestamp = new Date('{{TIMESTAMP}}');
    const age = Math.floor((Date.now() - timestamp.getTime()) / 1000);
    if (age > 300) { // 5 minutes
      console.warn(`Dashboard data is ${age} seconds old. Consider refreshing.`);
    }
  </script>
</body>
</html>
